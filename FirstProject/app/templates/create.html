{% extends 'layout.html' %}
{% load static %}

{% block content %}

    <div class="row d-flex justify-content-center pt-5 text-center">
        <div class="col-2">

            <form action="." method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="form-group py-4">
                    {{ form.description.label_tag }}
                    <div class="pt-4">
                        {{ form.description }}
                    </div>
                </div>

                <div class="custom-file pt-4">
                    {{ form.file }}
                </div>

                 <div class="form-group pt-4">
                     <input class="btn btn-primary" type="submit" value="Create post">
                 </div>
            </form>
        </div>

        <div class="col-3 py-4">
            <img id="image-preview" src="{% static 'imgs/free-love-message-icon-2946-thumb.png' %}" class="rounded" style="max-height: 25vh"/>

            <div class="row justify-content-center pt-4">
                <div class="col-8">
                    <h5 id="description-preview" style="word-wrap: break-word;">Preview description</h5>
                </div>
            </div>

        </div>
    </div>

   <script>
    document.getElementById('file').onchange = function () {
      var src = URL.createObjectURL(this.files[0])
      document.getElementById('image-preview').src = src
    }

   </script>

    <script>
        document.getElementById('description').onchange = function () {
        var content = document.getElementById('description').value
        document.getElementById('description-preview').innerHTML = "'" + content + "'"
    }
    </script>

{% endblock %}

